<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    /*
      js垃圾回收机制：
      js中内存的分配和回收都是自动完成的，内存在不使用的时候会被垃圾回收器自动回收。
      不再用到的内存，没有及时释放，就会发生内存泄漏。
  

      内存的生命周期：
      1.内存分配：当我们声明变量，函数，对象的时候，系统会自动为他们分配内存
      2.内存使用：即读写内存，也就是使用变量，函数等
      3.内存回收：使用完毕，由垃圾回收自动回收不再使用的内存
      注意：全局变量一般不会回收(关闭页面回收)，一般情况下局部变量的值，不用了，会被自动回收掉。
           被另一个作用域引用的变量不会被回收。
 
      浏览器垃圾回收算法：
      1.引用计数法：
      ie采用的引用计数算法，通过 判断一个对象是否有指向它的引用 来确定 内存是否要被回收。
      第一步，跟踪记录每个值被引用的次数
      第二步，如果这个值的被引用了一次，那么就记录次数1
      第三步，多次引用会累加
      第四步，如果减少一个引用就减1
      第五步，如果引用次数是0，则释放内存
      缺陷：嵌套引用的情况，例如
      function fn(){
        let a = {}
        let b = {}
        a.c = b
        b.c = a
      }
      fn()
      两个对象相互引用，计数一直是1，导致无法回收内存
      
      
      
      2.标记清除法：
      第一，标记清除算法将"不再使用的对象"定义为"无法达到的对象"
      第二，就是从根部(在js中就是全局对象global)出发定时扫描内存中的对象。凡是能从根部到达的对象，都是还需要使用的
      第三，那些无法由根部出发触及到的对象被标记为不再使用，稍后进行回收。


    */
    
  </script>
</body>

</html>